(this["webpackJsonpcasa-de-cambio"]=this["webpackJsonpcasa-de-cambio"]||[]).push([[0],{164:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),s=a(23),o=a.n(s),l=a(74),i=a(27),d=a.n(i),j=a(90),b=a(42),u=a(18),h=(a(97),a(98),a(47)),O=a(11),x=a(73),m=a(72),p=function(){return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)(m.a,{bg:"primary",variant:"dark",children:[Object(n.jsx)(m.a.Brand,{href:"/",children:"Exchange rates API"}),Object(n.jsx)(x.a,{className:"ml-auto",children:Object(n.jsx)(x.a.Link,{href:"#about",children:"About"})})]}),Object(n.jsx)("br",{})]})},f=a(84),y=a(17),g=function(){return Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)(y.a,{fluid:!0,children:[Object(n.jsx)(f.a,{fluid:!0,className:"bg-primary text-white",children:Object(n.jsxs)(y.a,{fluid:!0,children:[Object(n.jsx)("h1",{children:"Hola!"}),Object(n.jsx)("p",{className:"lead",children:"Esta aplicaci\xf3n muestra tasas de cambio para monedas extranjeras."}),Object(n.jsx)("hr",{className:"my-4"})]})}),Object(n.jsx)(y.a,{fluid:!0,children:Object(n.jsx)("p",{children:"Selecciona a continuaci\xf3n una moneda:"})})]})})},v=a(46),S=a(30),D=a(54),w=a(86),M=a.n(w),k=(a(103),a(67)),C=a(48),N=function(e){var t=e.indexMonedaSeleccionada,a=e.obtenerLatest,r=e.selectedDate,s=e.handleChange;return Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)(v.a,{className:"py-3",children:[Object(n.jsx)(k.a,{children:Object(n.jsx)(h.b,{to:"/resultados",onClick:function(e){return[0===a.length&&null===r?(e.preventDefault(),alert("Selecciona una fecha o marc\xe1 la opci\xf3n de obtener tasa m\xe1s reciente")):null,null!==t||null===r&&0===a.length?null:(e.preventDefault(),alert("Selecciona una moneda!"))]},children:Object(n.jsx)(C.a,{variant:"outline-primary",children:"Obtener cambios"})})}),Object(n.jsx)(k.a,{children:Object(n.jsx)(D.a,{type:"checkbox",value:a,onChange:s,size:"sm",children:Object(n.jsx)(S.a,{value:1,variant:"outline-primary",className:"btn-optional",children:"Obtener s\xf3lo la tasa m\xe1s reciente"})})})]})})},F=function(e){var t=e.monedas,a=e.indexMonedaSeleccionada,r=e.obtenerLatest,s=e.dates,o=e.selectedDate,l=(e.loading,e.handleChange),i=e.handleDate,d=e.handleMonedaSeleccionada,j=new Date;return j.setDate("04"),j.setYear("99"),j.setMonth("01"),Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(v.a,{noGutters:!0,children:Object.keys(t).map((function(e,a){return Object(n.jsx)(D.a,{type:"radio",value:e,onChange:d,name:e,className:"toggleButtonGroup",children:Object(n.jsx)(S.a,{value:Number(a+1),variant:"outline-primary",className:"btn-custom",children:t[a]},e)},e)}))})}),Object(n.jsx)(y.a,{fluid:!0,children:Object(n.jsxs)("p",{children:["Seleccion\xe1 una fecha v\xe1lida, desde 04-01-1999 al ",s.ddmmyyyyToday,", o marc\xe1 la opci\xf3n para obtener los \xfaltimos cambios:"]})}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(M.a,{selected:o,onChange:i,dateFormat:"dd/MM/yyyy",minDate:j,maxDate:new Date,isClearable:!0,showYearDropdown:!0,showMonthDropdown:!0,scrollableYearDropdown:!0}),Object(n.jsx)(N,{indexMonedaSeleccionada:a,obtenerLatest:r,selectedDate:o,handleChange:l})]})]})},E=a(89),L=function(e){var t=e.monedas,a=e.indexMonedaSeleccionada,r=e.selectedDate,s=Object(c.useState)([]),o=Object(u.a)(s,2),l=o[0],i=o[1],j=Object(c.useState)(!0),h=Object(u.a)(j,2),O=h[0],x=h[1],m=Object(c.useState)([]),p=Object(u.a)(m,2),f=p[0],g=p[1];return Object(c.useEffect)((function(){if(null===r){(function(){var e=Object(b.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"latest?base="+t[a-1]);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent;try{i(c),x(!1)}catch(r){x(!0),console.error(r)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),c=r.getFullYear(),s="".concat(c,"-").concat(n,"-").concat(e);g("".concat(e,"-").concat(n,"-").concat(c)),function(){var e=Object(b.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"".concat(s,"?base=")+t[a-1]);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent;try{i(c),x(!1)}catch(r){x(!0),console.error(r)}case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(y.a,{children:O||l===[]?Object(n.jsx)("div",{children:"Cargando resultados..."}):Object(n.jsxs)(y.a,{children:[null===r?Object(n.jsxs)("h1",{children:["Resultados m\xe1s recientes para ",l.base,": "]}):Object(n.jsxs)("h1",{children:["Resultados para ",l.base," a la fecha ",f]}),Object(n.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Moneda"}),Object(n.jsx)("th",{children:"Valor"})]})}),Object(n.jsx)("tbody",{children:Object.keys(l.rates).map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e}),Object(n.jsx)("td",{children:l.rates[e]})]},e)}))})]})]})})})},Y="https://api.exchangeratesapi.io/";var B=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),o=Object(u.a)(s,2),i=o[0],x=o[1],m=Object(c.useState)([]),f=Object(u.a)(m,2),y=f[0],v=f[1],S=Object(c.useState)(null),D=Object(u.a)(S,2),w=D[0],M=D[1],k=Object(c.useState)([]),C=Object(u.a)(k,2),N=C[0],E=C[1],B=Object(c.useState)(!0),T=Object(u.a)(B,2),A=T[0],G=T[1];return Object(c.useEffect)((function(){v(function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return{ddmmyyyyToday:"".concat(t,"-").concat(a,"-").concat(n),yyyymmddToday:"".concat(n,"-").concat(a,"-").concat(t),min:"04-01-1999"}}());var e=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"latest");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r([a.base].concat(Object(j.a)(Object.keys(a.rates))));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{G(!0),e(),G(!1)}catch(t){G(!0),console.error(t)}}),[]),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(p,{}),Object(n.jsxs)(O.c,{children:[Object(n.jsxs)(O.a,{exact:!0,path:"/",children:[Object(n.jsx)(g,{}),A?Object(n.jsx)("div",{children:"Cargando..."}):Object(n.jsx)(F,{monedas:a,indexMonedaSeleccionada:i,obtenerLatest:N,dates:y,selectedDate:w,loading:A,handleChange:function(e){E(e)},handleDate:function(e){M(e)},handleMonedaSeleccionada:function(e){x(e)}})]}),Object(n.jsx)(O.a,{exact:!0,path:"/resultados",render:function(e){return Object(n.jsx)(L,Object(l.a)(Object(l.a)({},e),{},{monedas:a,indexMonedaSeleccionada:i,selectedDate:w}))}})]})]})};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root"))},98:function(e,t,a){}},[[164,1,2]]]);
//# sourceMappingURL=main.9484354e.chunk.js.map